{"mappings":"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","sources":["src/FaviconNotificationContext.jsx"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst initialConfig = {\r\n  radius: 14,\r\n  counter: 0,\r\n  innerCircle: false,\r\n  backgroundColor: \"#DB0101\",\r\n  fontColor: \"#FFF\",\r\n  fontFamily: \"Arial\",\r\n  fontWeight: \"bold\",\r\n  url: `${window.location.origin}/favicon.ico`,\r\n  position: \"bottom-right\",\r\n  show: false,\r\n};\r\n\r\nconst FaviconContextNotification = createContext();\r\n\r\nconst FaviconNotificationContextProvider = ({ children }) => {\r\n  const [config, setConfig] = useState(initialConfig);\r\n\r\n  const changeFavicon = () => {\r\n    if (!config.show) {\r\n      drawOriginalFavicon();\r\n      return;\r\n    }\r\n    var favicon = new Image();\r\n    favicon.crossOrigin = \"anonymous\";\r\n\r\n    favicon.onload = function () {\r\n      var oldLink = document.querySelector(\"link[rel~='icon']\");\r\n      var newLink = document.createElement(\"link\");\r\n      newLink.rel = \"icon\";\r\n\r\n      var canvas = document.createElement(\"canvas\");\r\n      canvas.width = favicon.width;\r\n      canvas.height = favicon.height;\r\n\r\n      var ctx = canvas.getContext(\"2d\");\r\n      ctx.drawImage(favicon, 0, 0);\r\n\r\n      const [POS_X, POS_Y] = getPosition(config.position, canvas);\r\n\r\n      // === Draw the circle ===\r\n      drawCircle(ctx, POS_X, POS_Y);\r\n\r\n      // === Draw the text ===\r\n      if (config.counter !== null && config.counter !== undefined) {\r\n        drawText(ctx, POS_X, POS_Y);\r\n      }\r\n\r\n      if (canvas) {\r\n        newLink.href = canvas.toDataURL();\r\n        if (oldLink) {\r\n          document.head.removeChild(oldLink);\r\n          document.head.appendChild(newLink);\r\n        }\r\n      }\r\n    };\r\n    favicon.src = config.url;\r\n  };\r\n\r\n  const drawOriginalFavicon = () => {\r\n    var link = document.querySelector(\"link[rel~='icon']\");\r\n    link.href = config.url;\r\n  };\r\n\r\n  const getPosition = (positionLabel, canvas) => {\r\n    var positionX = 0;\r\n    var positionY = 0;\r\n    switch (positionLabel) {\r\n      case \"top-left\":\r\n        positionX = canvas.width / 2 - (canvas.width - config.radius * 2) / 2;\r\n        positionY = canvas.height / 2 - (canvas.height - config.radius * 2) / 2;\r\n        break;\r\n      case \"top-right\":\r\n        positionX = canvas.width / 2 + (canvas.width - config.radius * 2) / 2;\r\n        positionY = canvas.height / 2 - (canvas.height - config.radius * 2) / 2;\r\n        break;\r\n      case \"bottom-right\":\r\n        positionX = canvas.width / 2 + (canvas.width - config.radius * 2) / 2;\r\n        positionY = canvas.height / 2 + (canvas.height - config.radius * 2) / 2;\r\n        break;\r\n      case \"bottom-left\":\r\n        positionX = canvas.width / 2 - (canvas.width - config.radius * 2) / 2;\r\n        positionY = canvas.height / 2 + (canvas.height - config.radius * 2) / 2;\r\n        break;\r\n      case \"center\":\r\n        positionX = canvas.width / 2;\r\n        positionY = canvas.height / 2;\r\n        break;\r\n      default:\r\n        positionX = canvas.width / 2;\r\n        positionY = canvas.height / 2;\r\n        break;\r\n    }\r\n\r\n    return [positionX, positionY];\r\n  };\r\n\r\n  const drawCircle = (ctx, positionX, positionY) => {\r\n    ctx.beginPath();\r\n    ctx.arc(positionX, positionY, config.radius, 0, 2 * Math.PI, false);\r\n    ctx.fillStyle = config.backgroundColor;\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n  };\r\n\r\n  const drawInnerCircle = (ctx, positionX, positionY) => {\r\n    ctx.beginPath();\r\n    ctx.arc(positionX, positionY, config.radius / 2, 0, 2 * Math.PI, false);\r\n    ctx.fillStyle = config.fontColor;\r\n    ctx.strokeStyle = config.fontColor;\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n  };\r\n\r\n  const drawText = (ctx, positionX, positionY) => {\r\n    if (config.counter > 9 || config.innerCircle) {\r\n      drawInnerCircle(ctx, positionX, positionY);\r\n      return;\r\n    }\r\n    ctx.beginPath();\r\n    ctx.font = `${config.fontWeight} ${config.radius * 2}px ${\r\n      config.fontFamily\r\n    }`;\r\n    ctx.fillStyle = config.fontColor;\r\n    ctx.fillText(\r\n      config.counter + \"\",\r\n      positionX - config.radius / 2,\r\n      positionY + config.radius / 2 + config.radius / 4\r\n    );\r\n    ctx.strokeStyle = config.fontColor;\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n  };\r\n\r\n  useEffect(() => {\r\n    changeFavicon();\r\n  }, [config]);\r\n\r\n  return (\r\n    <FaviconContextNotification.Provider value={[config, setConfig]}>\r\n      {children}\r\n    </FaviconContextNotification.Provider>\r\n  );\r\n};\r\n\r\nexport const useFaviconNotification = () => {\r\n  return useContext(FaviconContextNotification);\r\n};\r\n\r\nexport default FaviconNotificationContextProvider;\r\n"],"names":[],"version":3,"file":"index.js.map"}